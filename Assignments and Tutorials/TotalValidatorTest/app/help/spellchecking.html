<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-GB" lang="en-GB">
<head>
  <meta charset="UTF-8" />
  <title>Spell Checking | Documentation | Total Validator</title>
  <meta name="author" content="Total Validator" />
  <link rel="stylesheet" href="../common.css" />
  <link rel="stylesheet" href="../website.css" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <script type="text/javascript" src="../images/menu.js"></script>
</head>
<body>
<div class="main" id="top">
<header><div id="skip"><a href="#content">Skip navigation</a></div>

<div class="pagehead">
<h1><a href="../ReadMe.html"><img src="../images/tvheader.svg" alt="Read Me Page"/></a>
</h1>
</div>

<div class="topnavbar">
<nav id='navbar' aria-label='Main navigation'><h2 class='hidden'>Main site navigation</h2><ul><li class='navitem'><a href='help.html'><span class='navlink'>Documentation</span></a></li><li class='navitem'><a href='reference/index.html'><span class='navlink'>Reference</span></a></li><li class='navitem'><a href='https://www.totalvalidator.com/index.html'><span class='navlink'>Website</span></a></li><li class='navitem'><a href='https://www.totalvalidator.com/validator/ContactForm'><span class='navlink'>Contact Form</span></a></li></ul></nav>
</div>

</header>
<main class="nomenus">
<h2 id="content"><a id="intro"></a><a href="help.html" title="Documentation Contents">Documentation</a> &gt; Spell checking</h2>
<p>Selecting the <a href="main.html#spellcheck">Spell check option</a> turns on Total Validator's spell checking system. By default, the language code used for every word on every web page that is tested is detected, and then the matching <a href="#dictionaries">dictionary</a> for that language, together with some language specific rules, are used to spell check it.
</p>
<p>If a word isn't found in the matching dictionary then a <a href="results.html#spelling">spelling mistake</a> is displayed in the results. A list of suggested corrections may also be displayed as well.
</p>
<p>The following page details how to get the best out of the spell checking system using the many <a href="spellcheck.html">Spell check</a> options available. These have changed considerably since v10, so users of older versions of Total Validator may also need to check the <a href="#migration">Migration</a> section.
</p>

<h2 id="dictionaries">Internal dictionaries</h2>
<p>Six internal dictionaries are built into Total Validator to cover five West European languages: English, French, German, Italian and Spanish. These internal dictionaries are named after the <a href="https://www.w3.org/International/articles/language-tags/">language codes</a> they apply to: <code class="ot">en-US</code>, <code class="ot">en-GB</code>, <code class="ot">fr</code>, <code class="ot">de</code>, <code class="ot">it</code>, <code class="ot">es</code>. They are also used to check words for any specific sub-languages codes, such as <code class="ot">fr-CA</code> and <code class="ot">fr-FR</code>. English is a special case: The <code class="ot">en-US</code> dictionary is used for all <code class="ot">en</code> languages such as <code class="ot">en-CA</code>, except for <code class="ot">en-GB</code> which will always use the <code class="ot">en-GB</code> dictionary. But you can <a href="spellcheck.html#british">switch</a> to using the <code class="ot">en-GB</code> dictionary for all <code class="ot">en</code> languages (except for <code class="ot">en-US</code> of course).
</p>
<p>All dictionaries used for spell checking are just plain, UTF-8 encoded, text files consisting of one word per line. To save having to list every possible variation of each word for each language, rules are used specific to each internal dictionary to detect plurals, apostrophes, and other similar features, so that a single word in the dictionary may match many actual words that are found on web pages. For example, 'address' will match 'addresses'.
</p>

<h2 id="detection">Language detection</h2>
<p>To determine which dictionary to use, the system looks at the <a href="https://www.w3.org/International/articles/language-tags/">language code</a> in the <code class="ht">lang</code> attribute of the element containing it. For example:
</p>
<kbd class="ot">&lt;p lang='en-CA'&gt;This will be detected as Canadian English&lt;/p&gt;</kbd>
<p>If there is no <code class="ht">lang</code> attribute, it looks at the parent element, and then it's parent, right up to the <code class="ht">&lt;html&gt;</code> element:
</p>
<kbd class="ot">&lt;div lang='en-CA'&gt;&lt;p&gt;&lt;span&gt;This will still be detected as Canadian English&lt;/span&gt;&lt;/p&gt;&lt;/div&gt;</kbd>
<p>If there are no <code class="ht">lang</code> attributes, then the system looks for a <code class="ht">&lt;meta&gt;</code> tag specifying the language: <code class="ht">&lt;meta http-equiv='Content-Language' content='en'&gt;</code>. If that doesn't exist, it then looks for a <code class="ht">Content-Language</code> HTTP header sent by the website. Finally, it will use the <a href="spellcheck.html#defaultcode">Default code</a> option, assuming it is set. If it fails to find any matching language code then words in the element will not be spell checked.
</p>
<p>Note that if the detected language code is blank (<code class="ot">''</code>), malformed (<code class="ot">!rubbish!</code>), or one for which there is no dictionary (<code class="ot">zh-Hans-CN</code>), then the words will not be checked. Special words such as upper-case words, words in attributes, and words with digits in, will also be ignored, unless you set the appropriate <a href="spellcheck.html#spelloptions">Words to check</a> option to include them.
</p>
<p>As mentioned above, dictionaries for the top-level language are special in that they will match any sub-code of that language, so the French <code class="ot">fr</code> dictionary, will match <code class="ot">fr-CA</code> and <code class="ot">fr-FR</code> as well as <code class="ot">fr</code>. But the <a href="spellcheck.html#ignorelang">Ignore codes</a> option can be used to prevent specific language codes, such as <code class="ot">fr-CA</code>, being checked. Better still, if you provide an <a href="spellcheck.html#external">External dictionary</a> for <code class="ot">fr-CA</code>, this will be used in place of the top-level one for that specific code. Beware that if you provide an <a href="spellcheck.html#external">External dictionary</a> for <code class="ot">fr</code> it will be used for all sub-codes such as <code class="ot">fr-CA</code> and <code class="ot">fr-FR</code>.
</p>

<h2 id="results">Results</h2>
<p>When a word is checked against a dictionary and is unrecognised, it will be marked as a spelling mistake on the <a href="results.html#spelling">page report</a>. But if you think that the word is correct and just missing from the dictionary, you can click on it to add it to a personal dictionary in the <a href="spellcheck.html#personal">Personal dictionaries folder</a>. Future testing will use these personal dictionaries, so the word will no longer be marked as misspelt.
</p>
<p>As you view each page report any words that you have clicked on will no longer be marked, making it quicker to correct mistakes.
</p>
<p>If there are a lot of specialist words on a website, to save clicking on every unrecognised word on every page, you can use the <a href="spellcheck.html#unrecognised">Save unrecognised</a> option to save every unrecognised word to personal dictionaries. You can then check these to ensure that all the words added really are correctly spelt. Note that this option should only be used once, otherwise it will mask misspelt words in subsequent tests.
</p>
<p>Personal dictionaries are named (in lower-case) after the language code used the check the words within them, together with a <code class="os">.dic</code> suffix. For example, <code class="ot">fr-CA</code> words will be saved in a file called <code class="os">fr-ca.dic</code> (even if the <code class="ot">fr</code> dictionary was used to check them). The <a href="spellcheck.html#showlanguage">Show codes</a> option may be used to display the language code (and hence the file a word will be saved to) on the page reports. This may be useful if you have pages with lots of different languages on them and you wish to know which personal dictionaries words will be saved to, which may be useful, as described in the next section.
</p>

<h2 id="personal">Personal dictionaries</h2>
<p>As described above, when you click on 'unrecognised' words on the page reports, or use the <a href="spellcheck.html#unrecognised">Save unrecognised</a> option, words are added to personal dictionaries. You can also manually add words to these, or create your own. But please note that these must be plain text files consisting of one word per line, ideally with no duplicates, and must be saved using UTF-8 encoding, otherwise some of the words within them may be ignored.
</p>
<p>When a spell check runs, the words in <em>all of</em> the files in the <a href="spellcheck.html#personal">personal dictionaries folder</a> prefixed with a matching language code, and with the suffix <code class="os">.dic</code>, will be used. This means that words in <code class="os">fr-ca.mydictionary.dic</code>, <code class="os">fr-ca.dic</code>, and <code class="os">fr.dic</code>, will be used to check <code class="os">fr-ca</code> words.
</p>
<!-- <p>For top-level languages such as the internal ones <code class="ot">en, fr, de, es, it</code>, things work slightly differently because these are used to check all the country and region specific language codes as well. In this case all the words from country and region specific correction dictionaries are added to the top level dictionary, so words in <code class="os">fr.dic</code>, <code class="os">fr-fr.dic</code>, and <code class="os">fr-ca.dic</code> will be added to the <code class="os">fr</code> dictionary, unless you've provided your own specific <code class="os">fr-fr</code> dictionary, in which case words from <code class="os">fr-fr.dic</code> will just be added to that one instead.
</p> -->
<p>If a file is found in the personal dictionaries folder which ends with the suffix <code class="os">.dic</code>, but has no prefix, or uses an invalid code, then it is added to all the dictionaries. This is so you can create personal dictionaries for words that apply to all languages, such as brand names like 'Google'. <!-- If a corrections dictionary has a valid code, but there is no matching dictionary, then it is simply ignored. Also any files which are on the list of <a href="spellcheck.html#external">Own dictionaries</a> are also ignored, so they are not added twice. -->
</p>

<h2 id="external">External dictionaries</h2>
<p>You can also add your own external dictionaries for languages not built into Total Validator. This may also be used to provide a dictionary for a specific country code such as <code class="ot">fr-CA</code>, or even to replace the internal dictionaries. Just add a list of the paths to these external files using the <a href="spellcheck.html#external">External dictionaries</a> option.
</p>
<p>As with all dictionaries these must be plain text files consisting of one word per line, ideally with no duplicates, and must be saved using UTF-8 encoding. Dictionary file names must also start with a valid language code prefix ending with a ".", and the whole file name must end with the suffix <code class="os">.dic</code>, otherwise they will be ignored. For example, <code class="os">fr-ca.dic</code> and <code class="os">pt-PT.mydictionary.dic</code> are okay, but not <code class="os">fr-CA</code>, nor <code class="os">fr-CA-dic</code>, nor <code class="os">fr-CA-mydictionary.dic</code>. But note that any language codes which also appear on the <a href="spellcheck.html#ignorelang">Ignore codes</a> option, will be ignored during the spell check.
</p>
<p>Dictionary file names are also case-insensitive, so if you list <code class="os">fr-ca.dic,fr-CA.dic</code> only one of these will be used (with no guarantee which one). Also, if there is a naming conflict such as <code class="os">fr.mydic.dic,fr.mydic2.dic</code>, only one of these will be used. Any dictionaries with names which match the internal ones will be used instead of them, such as <code class="os">fr.dic</code> and <code class="os">en-GB.dic</code>.
</p>
<p>Just like the internal dictionaries, any external dictionary with a language code which is just the name of the language, such as <code class="os">pt.dic</code> will be used to check words in any country or region-specific sub-codes such as <code class="ot">pt-BR</code> as well as <code class="ot">pt</code>, unless you supply a specific dictionary for the specific sub-code such as <code class="os">pt-br.dic</code>.
</p>
<p>If you supply an external dictionary for a language matching one the five West European languages, such as <code class="ot">fr-CA</code>, then the special language specific rules we have, such as detecting plurals will also be applied. But for other languages you will have to list every variation of every word. Also we have only tested the system with Western languages so there is no guarantee our system will work with languages which are significantly different (please let us know if they don't and we will try to fix things).
</p>
<h3 id="creatingdics">Fast creation</h3>
<p>A quick way of creating an external dictionary is to use the <a href="spellcheck.html#unknown">Save unknown</a> option. All the words which are marked with a valid language code, but for which no matching dictionary exists, will be saved to the <a href="spellcheck.html#personal">Personal dictionaries folder</a>. These are saved in files named after the matching language code with a <code class="os">.dic</code> suffix. For example, <code class="os">pt-br.dic</code>.
</p>
<p>You can also do this for country specific or regional language sub-codes for which there is a top-level dictionary, by listing the code in the <a href="spellcheck.html#ignorelang">Ignore languages</a> option. For example, to create your own dictionary for <code class="ot">fr-CA</code>, put <code class="ot">fr-CA</code> in the <a href="spellcheck.html#ignorelang">Ignore codes</a> option and then use the <a href="spellcheck.html#unknown">Save unknown</a> option. Then the top-level <code class="ot">fr</code> dictionary will ignore <code class="ot">fr-CA</code> words, and they will be saved to the <code class="os">fr-ca.dic</code> dictionary file.
</p>
<p>Note that for some glyph-based languages like Chinese, all the words are technically upper case, so you may need to set the <code class="tv">UPPER CASE words</code> option to ensure that words are saved, and then use the same option when spell checking them.
</p>
<p>As these dictionaries are stored in the <a href="spellcheck.html#personal">Personal dictionaries folder</a>, it may be better to move them somewhere else where they are less likely to be overwritten. Also, you will still need to list them in the <a href="spellcheck.html#external">External dictionaries</a> option for them to be used, and remember to remove the language code from the <a href="spellcheck.html#ignorelang">Ignore codes</a> option, so they are no longer ignored.
</p>

<h2 id="ignoring">Ignoring words</h2>
<p>You can skip spell checking for any words where there is a matching dictionary, using one of three methods:</p>
<ul>
  <li>Add the matching language code to the <a href="spellcheck.html#ignorelang">Ignore codes</a> option. Note that adding a top-level language code such as <code class="ot">fr</code> will skip all country and region-specific sub-codes as well</li>
  <li>Mark the section with the HTML5 <code class="ht">spellcheck="false"</code> attribute</li>
  <li>Mark the section using the <code class="tv">-tv-ignore:E31</code> or <code class="tv">-tv-ignore-spellcheck</code> class attributes as described in <a href="ignore.html">Ignoring issues</a></li>
</ul>

<h2 id="migration">Migrating from pre v11 versions of Total Validator</h2>
<p>The internal dictionaries are now stored in the <code class="os">dics</code> folder, rather than the <code class="os">dicts</code> folder in the application folder, so if you've changed any of these you may need to move them into the new folder and rename them to match the new names.
</p>
<p>Similarly, personal dictionaries are now stored by default in the <code class="os">dics</code> folder, rather than the <code class="os">dicts</code> folder within the results folder, so you may need to move these and rename them using the new filename format for them to be used.
</p>
<p>The command line options have also changed. Using some of the old options will throw an error and stop the test from running. This has been done so that confusing results are not produced.
</p>
</main>

<footer><div class="footer">
<p class="footer">&copy; 2005-2023 Total Validator</p>
</div></footer>

</div>
</body>
</html>
